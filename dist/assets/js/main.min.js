const clickBurgerMenuFunction=()=>{var e=document.querySelector(".header-block");const t=e.querySelector(".header-block__burger"),o=e.querySelector(".header-block__content");null!==t&&t.addEventListener("click",function(){t.classList.toggle("header-block__burger--open"),o.classList.toggle("header-block__content--open")}),document.addEventListener("click",function(e){e=e.target;e.closest(".header-block__content")||e.closest(".header-block__burger")||(o.classList.remove("header-block__content--open"),t.classList.remove("header-block__burger--open"))}),document.addEventListener("keydown",function(e){27===e.keyCode&&o.classList.contains("header-block__content--open")&&(e.preventDefault(),o.classList.remove("header-block__content--open"),t.classList.remove("header-block__burger--open"))})},onEscKey=(document.addEventListener("DOMContentLoaded",clickBurgerMenuFunction),e=>"Escape"===e.key||"Esc"===e.key),EMAIL_REGEXP=/^(([^<>()[\].,;:\s@"]+(\.[^<>()[\].,;:\s@"]+)*)|(".+"))@(([^<>()[\].,;:\s@"]+\.)+[^<>()[\].,;:\s@"]{2,})$/iu,addForm=document.querySelector(".modal-content__send"),addFormEmail=addForm.querySelector("#modal__email"),applicantForm=document.getElementById("modal__form"),submitButton=applicantForm.querySelector(".modal__submit--button"),addClassModalOverlay=document.querySelector(".modal-content"),addClassBody=document.querySelector("body"),addClassButton=document.querySelector(".modal-content__form"),messageStatus=document.querySelector(".modal-content__message"),formSend=()=>{const t=t=>{t.addEventListener("click",()=>t.remove()),document.addEventListener("keydown",e=>{onEscKey(e)&&t.remove()})};function e(e){e=document.querySelector(e).content.firstElementChild.cloneNode(!0);document.body.appendChild(e),t(e)}function o(){e("#success"),applicantForm.reset()}function n(){e("#error")}applicantForm.addEventListener("submit",async function(e){e.preventDefault(),e=e.target,new FormData(e),async function(t,e){try{((await fetch("https://httpbin.org/post",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:e})).ok?o:t)()}catch(e){t()}}(o,n)}),applicantForm.addEventListener("input",function(e){var t=e.target.form.checkValidity(),e=!("modal__email"===e.target.id)||(e=e.target.value,EMAIL_REGEXP.test(e));submitButton.disabled=!t||!e||""===addFormEmail.value.trim()}),submitButton.disabled=!0},toggleModal=(document.addEventListener("DOMContentLoaded",formSend),()=>{var e=document.querySelector(".modal-content__form"),t=document.querySelector("body"),o=document.querySelector(".modal-content"),n=document.querySelector("#modal__name");e.classList.toggle("modal-content__form--open"),t.classList.toggle("modal-content__body--noscroll"),o.classList.toggle("modal-content__open"),n.focus()}),closeModal=()=>{var e=document.querySelector(".modal-content__form"),t=document.querySelector("body");document.querySelector(".modal-content").classList.remove("modal-content__open"),t.classList.remove("modal-content__body--noscroll"),e.classList.remove("modal-content__form--open")},clickAddClassButtonFunction=()=>{var e=document.querySelector(".feedback-block__link"),t=document.querySelector(".modal-content__button");const o=document.querySelector(".modal-content");null!==e&&e.addEventListener("click",e=>{e.preventDefault(),toggleModal()}),null!==t&&t.addEventListener("click",()=>{closeModal()}),document.addEventListener("keydown",e=>{27===e.keyCode&&o.classList.contains("modal-content__open")&&(e.preventDefault(),closeModal())}),document.addEventListener("click",e=>{e.target===o&&closeModal()})};document.addEventListener("DOMContentLoaded",clickAddClassButtonFunction);